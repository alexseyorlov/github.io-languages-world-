<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Языковой анализ мира | Консалтинговый отчёт</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:wght@600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            scroll-behavior: smooth;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0f1419 0%, #1a1f2e 50%, #141829 100%);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }
        
        /* Глобус на фоне */
        body::before {
            content: '';
            position: fixed;
            top: -10%;
            right: -15%;
            width: 800px;
            height: 800px;
            background: 
                radial-gradient(circle at 30% 30%, rgba(59, 130, 246, 0.08) 0%, transparent 50%),
                url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20200%20200%22%3E%3Cdefs%3E%3Cstyle%3E.grid%7Bstroke%3Argba%28100%2C150%2C200%2C0.06%29%3Bstroke-width%3A0.5%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Ccircle%20cx%3D%22100%22%20cy%3D%22100%22%20r%3D%2298%22%20fill%3D%22none%22%20stroke%3D%22rgba%28100%2C150%2C200%2C0.05%29%22%20stroke-width%3D%221%22%2F%3E%3Ccircle%20cx%3D%22100%22%20cy%3D%22100%22%20r%3D%2290%22%20fill%3D%22none%22%20stroke%3D%22rgba%28100%2C150%2C200%2C0.04%29%22%20stroke-width%3D%220.5%22%2F%3E%3Ccircle%20cx%3D%22100%22%20cy%3D%22100%22%20r%3D%2280%22%20fill%3D%22none%22%20stroke%3D%22rgba%28100%2C150%2C200%2C0.04%29%22%20stroke-width%3D%220.5%22%2F%3E%3Cline%20x1%3D%22100%22%20y1%3D%222%22%20x2%3D%22100%22%20y2%3D%22198%22%20class%3D%22grid%22%2F%3E%3Cline%20x1%3D%222%22%20y1%3D%22100%22%20x2%3D%22198%22%20y2%3D%22100%22%20class%3D%22grid%22%2F%3E%3Cline%20x1%3D%2230%22%20y1%3D%2230%22%20x2%3D%22170%22%20y2%3D%22170%22%20class%3D%22grid%22%2F%3E%3Cline%20x1%3D%22170%22%20y1%3D%2230%22%20x2%3D%2230%22%20y2%3D%22170%22%20class%3D%22grid%22%2F%3E%3Ccircle%20cx%3D%22100%22%20cy%3D%22100%22%20r%3D%2260%22%20fill%3D%22none%22%20stroke%3D%22rgba%2859%2C130%2C246%2C0.04%29%22%20stroke-width%3D%220.5%22%2F%3E%3Ccircle%20cx%3D%22100%22%20cy%3D%22100%22%20r%3D%2240%22%20fill%3D%22none%22%20stroke%3D%22rgba%2859%2C130%2C246%2C0.03%29%22%20stroke-width%3D%220.5%22%2F%3E%3C%2Fsvg%3E");
            background-size: contain;
            background-repeat: no-repeat;
            pointer-events: none;
            z-index: 0;
            opacity: 0.4;
            animation: float 20s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-30px) rotate(5deg); }
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 100px 40px;
            position: relative;
            z-index: 1;
        }
        
        /* ЗАГОЛОВОК */
        .header {
            text-align: center;
            margin-bottom: 80px;
            animation: slideDown 0.8s ease-out;
        }
        
        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .header h1 {
            font-family: 'Playfair Display', serif;
            font-size: 52px;
            font-weight: 700;
            color: #ffffff;
            margin-bottom: 12px;
            letter-spacing: -1px;
            line-height: 1.2;
        }
        
        .header p {
            font-size: 18px;
            color: #a0aec0;
            font-weight: 400;
            letter-spacing: 0.5px;
            text-transform: uppercase;
        }
        
        /* ВКЛАДКИ */
        .tabs {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-bottom: 70px;
            animation: slideUp 0.8s ease-out 0.2s both;
        }
        
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .tab-button {
            padding: 14px 28px;
            background: rgba(255, 255, 255, 0.04);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: #8892b0;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            letter-spacing: 0.3px;
            text-transform: uppercase;
        }
        
        .tab-button:hover {
            background: rgba(255, 255, 255, 0.06);
            border-color: rgba(255, 255, 255, 0.15);
            color: #cbd5e1;
        }
        
        .tab-button.active {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            border-color: transparent;
            color: #ffffff;
            box-shadow: 0 8px 24px rgba(59, 130, 246, 0.25);
        }
        
        /* ОСНОВНОЙ КОНТЕНТ */
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: grid;
            grid-template-columns: 1.2fr 0.8fr;
            gap: 60px;
            align-items: start;
            animation: fadeIn 0.6s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        /* ГРАФИК */
        .chart-section {
            animation: slideInLeft 0.8s ease-out 0.3s both;
        }
        
        @keyframes slideInLeft {
            from { opacity: 0; transform: translateX(-40px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        .chart-wrapper {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.08) 0%, rgba(99, 102, 241, 0.04) 100%);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 16px;
            padding: 40px;
            min-height: 500px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* СТАТИСТИКА */
        .stats-section {
            display: flex;
            flex-direction: column;
            gap: 24px;
            animation: slideInRight 0.8s ease-out 0.4s both;
        }
        
        @keyframes slideInRight {
            from { opacity: 0; transform: translateX(40px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        .stat-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.05) 0%, rgba(255, 255, 255, 0.02) 100%);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 12px;
            padding: 28px;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            border-left: 4px solid #3b82f6;
        }
        
        .stat-card:hover {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.03) 100%);
            border-color: rgba(59, 130, 246, 0.3);
            transform: translateY(-4px);
            box-shadow: 0 12px 32px rgba(59, 130, 246, 0.15);
        }
        
        .stat-label {
            font-size: 12px;
            color: #94a3b8;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 12px;
            font-weight: 700;
        }
        
        .stat-value {
            font-size: 40px;
            font-weight: 700;
            color: #ffffff;
            margin-bottom: 8px;
            font-family: 'Inter', sans-serif;
            letter-spacing: -1px;
        }
        
        .stat-description {
            font-size: 14px;
            color: #cbd5e1;
            font-weight: 400;
            line-height: 1.5;
        }
        
        /* ТАБЛИЦА */
        .table-section {
            margin-top: 100px;
            animation: fadeIn 0.8s ease-out 0.5s both;
        }
        
        .table-section h2 {
            font-family: 'Playfair Display', serif;
            font-size: 36px;
            font-weight: 700;
            color: #ffffff;
            margin-bottom: 40px;
            letter-spacing: -0.5px;
        }
        
        .table-wrapper {
            overflow-x: auto;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            background: rgba(255, 255, 255, 0.02);
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
        }
        
        thead {
            background: linear-gradient(90deg, rgba(59, 130, 246, 0.1) 0%, rgba(99, 102, 241, 0.05) 100%);
            border-bottom: 2px solid rgba(255, 255, 255, 0.08);
        }
        
        th {
            padding: 20px 24px;
            text-align: left;
            color: #cbd5e1;
            font-weight: 700;
            font-size: 13px;
            letter-spacing: 0.5px;
            text-transform: uppercase;
            cursor: pointer;
            user-select: none;
            white-space: nowrap;
        }
        
        th::after {
            content: ' ⇅';
            opacity: 0.3;
        }
        
        th.sort-asc::after {
            content: ' ↑';
            opacity: 1;
            color: #3b82f6;
        }
        
        th.sort-desc::after {
            content: ' ↓';
            opacity: 1;
            color: #3b82f6;
        }
        
        td {
            padding: 18px 24px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            color: #cbd5e1;
        }
        
        tbody tr:hover {
            background: rgba(59, 130, 246, 0.08);
        }
        
        .rank-cell {
            color: #3b82f6;
            font-weight: 700;
        }
        
        .lang-cell {
            color: #ffffff;
            font-weight: 600;
        }
        
        /* ПОДВАЛ */
        .footer {
            margin-top: 80px;
            padding-top: 60px;
            border-top: 1px solid rgba(255, 255, 255, 0.08);
            text-align: center;
            color: #64748b;
            font-size: 13px;
            animation: fadeIn 0.8s ease-out 0.6s both;
        }
        
        /* АДАПТИВ */
        @media (max-width: 1200px) {
            .tab-content.active {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 60px 20px;
            }
            
            .header h1 {
                font-size: 36px;
            }
            
            .header p {
                font-size: 14px;
            }
            
            .tabs {
                flex-direction: column;
                gap: 12px;
            }
            
            .tab-button {
                width: 100%;
            }
            
            .stat-value {
                font-size: 32px;
            }
            
            .table-section h2 {
                font-size: 28px;
            }
            
            table {
                font-size: 12px;
            }
            
            th, td {
                padding: 14px 16px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ЗАГОЛОВОК -->
        <div class="header">
            <h1>Глобальное распределение языков</h1>
            <p>Аналитический отчёт о 3.68 млрд говорящих</p>
        </div>
        
        <!-- ВКЛАДКИ -->
        <div class="tabs">
            <button class="tab-button active" onclick="switchTab('distribution', event)">Распределение по континентам</button>
            <button class="tab-button" onclick="switchTab('speakers', event)">Количество говорящих</button>
        </div>
        
        <!-- ВКЛАДКА 1 -->
        <div id="distribution" class="tab-content active">
            <div class="chart-section">
                <div class="chart-wrapper">
                    <canvas id="distributionChart" style="max-width: 100%; max-height: 450px;"></canvas>
                </div>
            </div>
            
            <div class="stats-section">
                <div class="stat-card">
                    <div class="stat-label">Всего говорящих</div>
                    <div class="stat-value">3.68 млрд</div>
                    <div class="stat-description">на топ-15 языках мира</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Доля населения</div>
                    <div class="stat-value">45.4%</div>
                    <div class="stat-description">от 8.1 млрд человек на Земле</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Максимум региона</div>
                    <div class="stat-value">Азия</div>
                    <div class="stat-description">2.89 млрд говорящих (60.2%)</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Многоязычие</div>
                    <div class="stat-value">8 из 15</div>
                    <div class="stat-description">языков на 2+ континентах</div>
                </div>
            </div>
        </div>
        
        <!-- ВКЛАДКА 2 -->
        <div id="speakers" class="tab-content">
            <div class="chart-section">
                <div class="chart-wrapper">
                    <canvas id="speakersChart" style="max-width: 100%; max-height: 450px;"></canvas>
                </div>
            </div>
            
            <div class="stats-section">
                <div class="stat-card">
                    <div class="stat-label">Лидер рейтинга</div>
                    <div class="stat-value">Мандарин</div>
                    <div class="stat-description">929 млн человек (11.5%)</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Топ-3 языка</div>
                    <div class="stat-value">2.28 млрд</div>
                    <div class="stat-description">Мандарин + Испанский + Английский</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Медианное значение</div>
                    <div class="stat-value">125 млн</div>
                    <div class="stat-description">среднее для топ-15 языков</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Минимум</div>
                    <div class="stat-value">76 млн</div>
                    <div class="stat-description">Немецкий язык (15-е место)</div>
                </div>
            </div>
        </div>
        
        <!-- ТАБЛИЦА -->
        <div class="table-section">
            <h2>Подробный анализ</h2>
            <div class="table-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th onclick="sortTable(event, 'number')" style="width: 6%">#</th>
                            <th onclick="sortTable(event, 'text')" style="width: 28%">Язык</th>
                            <th onclick="sortTable(event, 'number')" style="width: 22%">Говорящих</th>
                            <th onclick="sortTable(event, 'number')" style="width: 16%">% мира</th>
                            <th style="width: 28%">Регионы</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td class="rank-cell">1</td><td class="lang-cell">Мандаринский</td><td>929 млн</td><td>11.47%</td><td>Азия</td></tr>
                        <tr><td class="rank-cell">2</td><td class="lang-cell">Испанский</td><td>474.7 млн</td><td>5.86%</td><td>Америка, Европа, Африка</td></tr>
                        <tr><td class="rank-cell">3</td><td class="lang-cell">Английский</td><td>372.9 млн</td><td>4.60%</td><td>Европа, Америка, Азия</td></tr>
                        <tr><td class="rank-cell">4</td><td class="lang-cell">Хинди</td><td>343.9 млн</td><td>4.25%</td><td>Южная Азия</td></tr>
                        <tr><td class="rank-cell">5</td><td class="lang-cell">Арабский</td><td>274 млн</td><td>3.38%</td><td>Африка, Западная Азия</td></tr>
                        <tr><td class="rank-cell">6</td><td class="lang-cell">Бенгальский</td><td>228 млн</td><td>2.81%</td><td>Южная Азия</td></tr>
                        <tr><td class="rank-cell">7</td><td class="lang-cell">Португальский</td><td>220 млн</td><td>2.72%</td><td>Америка, Африка</td></tr>
                        <tr><td class="rank-cell">8</td><td class="lang-cell">Русский</td><td>150 млн</td><td>1.85%</td><td>Европа</td></tr>
                        <tr><td class="rank-cell">9</td><td class="lang-cell">Японский</td><td>125.4 млн</td><td>1.55%</td><td>Восточная Азия</td></tr>
                        <tr><td class="rank-cell">10</td><td class="lang-cell">Панджаби</td><td>125 млн</td><td>1.54%</td><td>Южная Азия</td></tr>
                        <tr><td class="rank-cell">11</td><td class="lang-cell">Мараттхи</td><td>99.1 млн</td><td>1.22%</td><td>Южная Азия</td></tr>
                        <tr><td class="rank-cell">12</td><td class="lang-cell">Телугу</td><td>95.7 млн</td><td>1.18%</td><td>Южная Азия</td></tr>
                        <tr><td class="rank-cell">13</td><td class="lang-cell">Корейский</td><td>81.7 млн</td><td>1.01%</td><td>Восточная Азия</td></tr>
                        <tr><td class="rank-cell">14</td><td class="lang-cell">Французский</td><td>79.9 млн</td><td>0.99%</td><td>Европа, Африка</td></tr>
                        <tr><td class="rank-cell">15</td><td class="lang-cell">Немецкий</td><td>76 млн</td><td>0.94%</td><td>Европа</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- ПОДВАЛ -->
        <div class="footer">
            <p>Источники: Ethnologue 2025, United Nations UNPD, Census of India, OIF | Данные по родным говорящим (L1)</p>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script>
        let charts = {};
        
        function switchTab(tabName, event) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
            
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
            
            setTimeout(() => {
                if (charts.distribution) charts.distribution.resize();
                if (charts.speakers) charts.speakers.resize();
            }, 100);
        }
        
        function sortTable(event, type) {
            const th = event.target.closest('th');
            if (!th) return;
            
            const table = th.closest('table');
            const tbody = table.querySelector('tbody');
            const isAsc = !th.classList.contains('sort-asc');
            
            table.querySelectorAll('th').forEach(h => h.classList.remove('sort-asc', 'sort-desc'));
            
            const rows = Array.from(tbody.querySelectorAll('tr'));
            const colIdx = Array.from(th.parentNode.children).indexOf(th);
            
            rows.sort((a, b) => {
                const aVal = a.children[colIdx].textContent.trim();
                const bVal = b.children[colIdx].textContent.trim();
                
                if (type === 'number') {
                    const aNum = parseFloat(aVal.replace(/[^0-9.-]/g, ''));
                    const bNum = parseFloat(bVal.replace(/[^0-9.-]/g, ''));
                    return isAsc ? aNum - bNum : bNum - aNum;
                }
                return isAsc ? aVal.localeCompare(bVal, 'ru') : bVal.localeCompare(aVal, 'ru');
            });
            
            rows.forEach(row => tbody.appendChild(row));
            th.classList.add(isAsc ? 'sort-asc' : 'sort-desc');
        }
        
        window.addEventListener('load', function() {
            // ГРАФИК 1
            const ctx1 = document.getElementById('distributionChart');
            if (ctx1) {
                charts.distribution = new Chart(ctx1, {
                    type: 'bar',
                    data: {
                        labels: ['Мандарин', 'Испанский', 'Английский', 'Хинди', 'Арабский', 'Бенгальский', 'Португальский', 'Русский', 'Японский', 'Панджаби', 'Мараттхи', 'Телугу', 'Корейский', 'Французский', 'Немецкий'],
                        datasets: [
                            { label: 'Азия', data: [929, 0, 70, 343.9, 74, 228, 0, 0, 125.4, 125, 99.1, 95.7, 81.7, 0, 0], backgroundColor: '#3b82f6', borderRadius: 4 },
                            { label: 'Америка', data: [0, 400, 230, 0, 0, 0, 220, 0, 0, 0, 0, 0, 0, 7, 0], backgroundColor: '#06b6d4', borderRadius: 4 },
                            { label: 'Европа', data: [0, 45, 70, 0, 0, 0, 0, 150, 0, 0, 0, 0, 0, 45, 76], backgroundColor: '#8b5cf6', borderRadius: 4 },
                            { label: 'Африка', data: [0, 30, 0, 0, 200, 0, 5, 0, 0, 0, 0, 0, 0, 25, 0], backgroundColor: '#f59e0b', borderRadius: 4 }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: true,
                        indexAxis: 'y',
                        plugins: {
                            legend: { labels: { color: '#cbd5e1', font: { size: 13, weight: '600' } } }
                        },
                        scales: {
                            x: { stacked: true, ticks: { color: '#94a3b8' }, grid: { color: 'rgba(255,255,255,0.05)' } },
                            y: { stacked: true, ticks: { color: '#cbd5e1', font: { weight: '600' } }, grid: { display: false } }
                        }
                    }
                });
            }
            
            // ГРАФИК 2
            const ctx2 = document.getElementById('speakersChart');
            if (ctx2) {
                charts.speakers = new Chart(ctx2, {
                    type: 'bar',
                    data: {
                        labels: ['Мандарин', 'Испанский', 'Английский', 'Хинди', 'Арабский', 'Бенгальский', 'Португальский', 'Русский', 'Японский', 'Панджаби', 'Мараттхи', 'Телугу', 'Корейский', 'Французский', 'Немецкий'],
                        datasets: [{
                            label: 'Млн человек',
                            data: [929, 474.7, 372.9, 343.9, 274, 228, 220, 150, 125.4, 125, 99.1, 95.7, 81.7, 79.9, 76],
                            backgroundColor: ['#3b82f6', '#2563eb', '#1d4ed8', '#06b6d4', '#0891b2', '#06b6d4', '#8b5cf6', '#8b5cf6', '#3b82f6', '#a855f7', '#a855f7', '#a855f7', '#06b6d4', '#8b5cf6', '#06b6d4'],
                            borderRadius: 4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: true,
                        indexAxis: 'y',
                        plugins: {
                            legend: { labels: { color: '#cbd5e1', font: { size: 13 } } }
                        },
                        scales: {
                            x: { ticks: { color: '#94a3b8' }, grid: { color: 'rgba(255,255,255,0.05)' } },
                            y: { ticks: { color: '#cbd5e1', font: { weight: '600' } }, grid: { display: false } }
                        }
                    }
                });
            }
        });
    </script>
</body>
</html>
